<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Followers Github</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="./components/FollowersGithub.js" defer></script>
    <script defer>
      const url = "https://api.github.com/users/henrique2m/followers";
      const configFetch = {
        method: "GET",
        Accept: "application/json",
        headers: {},
      };

      fetch(url, configFetch)
        .then((response) => response.json())
        .then((followers) => createListFollowers(followers))
        .catch((error) => new Error(error));

      const createListFollowers = (followers) => {
        const appRoot = document.getElementById("app-root");
        const listFollowers = document.createElement("ul");

        followers.forEach((follower) => {
          const itemListFollowers = document.createElement("li");
          const followersGithub = document.createElement("followers-github");

          followersGithub.setAttribute("login", follower.login);
          followersGithub.setAttribute("avatar-url", follower.avatar_url);
          followersGithub.setAttribute("html-url", follower.html_url);

          itemListFollowers.appendChild(followersGithub);
          listFollowers.appendChild(itemListFollowers);
        });

        appRoot.appendChild(listFollowers);
      };
    </script>
  </head>

  <body>
    <div id="app-root"></div>
  </body>
</html>
